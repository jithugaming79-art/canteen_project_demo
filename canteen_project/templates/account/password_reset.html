{% extends "base.html" %}

{% block title %}Password Reset - CampusBites{% endblock %}

{% block navbar %}{% endblock %}
{% block footer %}{% endblock %}

{% block content %}
<div class="auth-body">
    <div class="auth-container">
        <!-- Visual Side (Left) -->
        <div class="auth-visual">
            <div class="quote-container animate-enter delay-2">
                <div class="quote-text">Fresh<br>start.</div>
                <div class="quote-sub">Get back into your account securely.</div>
            </div>
        </div>

        <!-- Content Side (Right) -->
        <div class="auth-content">
            <a href="{% url 'home' %}" class="brand-title">üçî CampusBites</a>

            <div class="animate-enter delay-1">
                <h2 class="page-title">Password Reset</h2>
                <p class="page-subtitle">
                    {% if user.is_authenticated %}
                    You are already logged in. You can still reset your password below.
                    {% endif %}
                    Forgotten your password? Enter your e-mail address below, and we'll send you an e-mail
                    allowing you to reset it.
                </p>
            </div>

            <form method="POST" action="{% url 'account_reset_password' %}" class="animate-enter delay-2">
                {% csrf_token %}

                {% if form.errors %}
                <div
                    style="background: #fef2f2; border: 1px solid #fecaca; border-radius: 12px; padding: 16px; margin-bottom: 20px;">
                    {% for field in form %}
                    {% for error in field.errors %}
                    <p style="color: #dc2626; font-size: 14px; margin: 4px 0;">{{ error }}</p>
                    {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                    <p style="color: #dc2626; font-size: 14px; margin: 4px 0;">{{ error }}</p>
                    {% endfor %}
                </div>
                {% endif %}

                <div class="form-group-modern">
                    <label class="modern-label">E-mail Address</label>
                    <input type="email" name="email" class="modern-input" placeholder="e.g. yourname@university.edu"
                        required>
                </div>

                <button type="submit" class="btn-ultra" style="margin-top: 12px;">Reset My Password</button>
            </form>

            <div class="animate-enter delay-3" style="text-align: center; margin-top: 32px;">
                <p style="color: #6b7280; font-size: 14px;">
                    Please contact us if you have any trouble resetting your password.
                </p>
                <div style="margin-top: 16px;">
                    <a href="{% url 'login' %}" style="color: #111827; font-weight: 700; text-decoration: none;">Back to
                        Login</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.body.classList.remove('dark-mode');
    document.body.style.background = '#ffffff';
    document.body.style.color = '#111827';
    localStorage.setItem('theme', 'light');
</script>
{% endblock %}